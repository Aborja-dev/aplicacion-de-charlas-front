---
import type { TalkWithMessages } from '../domain/domain';

interface Props {
    talk: TalkWithMessages
}
const { talk } = Astro.props;

// Format date to a more readable format
const formatDate = (dateString: string) => {
    const options: Intl.DateTimeFormatOptions = { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
    };
    return new Date(dateString).toLocaleDateString('es-ES', options);
};
---

<div class="max-w-4xl p-6 bg-slate-600/20 backdrop-blur-sm rounded-xl shadow-md overflow-hidden">
    <!-- Header with title and status badge -->
    <div class="flex justify-between items-start mb-6">
        <h1 class="text-3xl font-bold text-yellow-400">{talk.title}</h1>
        <span class="px-3 py-1 text-sm font-semibold rounded-full bg-blue-100 text-blue-800">
            {talk.status}
        </span>
    </div>

    <!-- Main content -->
    <div class="space-y-6">
        <!-- Description -->
        <div>
            <h2 class="text-xl font-semibold text-white mb-2">Descripción</h2>
            <p class="text-white leading-relaxed">{talk.description}</p>
        </div>

        <!-- Details grid -->
        <div class="grid md:grid-cols-2 gap-6">
            <!-- Speaker info -->
            <div class="bg-gray-800 border-2 border-sky-700 shadow-lg p-4 rounded-lg text-white">
                <h3 class="font-medium mb-2">Ponente</h3>
                <p class="">{talk.speaker}</p>
            </div>

            <!-- Event info -->
            <div class="bg-gray-800 border-2 border-sky-700 shadow-lg p-4 rounded-lg text-white">
                <h3 class="font-medium mb-2">Evento</h3>
                <p class="">{talk.event}</p>
            </div>

            <!-- Duration -->
            <div class="bg-gray-800 border-2 border-sky-700 shadow-lg p-4 rounded-lg text-white">
                <h3 class="font-medium mb-2">Duración</h3>
                <p class="">{talk.duration} minutos</p>
            </div>

            <!-- Topic -->
            <div class="bg-gray-800 border-2 border-sky-700 shadow-lg p-4 rounded-lg text-white">
                <h3 class="font-medium text-white mb-2">Tema</h3>
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800">
                    {talk.topic}
                </span>
            </div>
        </div>

        <!-- Date information -->
        <div class="pt-4 border-t border-gray-200">
            <p class="text-sm text-white">
                Creado el: {formatDate(talk.createdAt)}
            </p>
        </div>
    </div>
</div>

<style>
    /* Add smooth transitions for interactive elements */
    .bg-gray-50 {
        transition: all 0.3s ease;
    }
    .bg-gray-50:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }
</style>