---
// Define la interfaz para asegurar el tipado de los datos de la charla
interface ITalk {
    id: string;
    title: string;
    description: string;
    duration: string
    topic: string;
    status: string;
    candidateId: string;
    eventId: string;
    createdAt: Date;
}

// Define las props que recibirá el componente
const { talk } = Astro.props as { talk: ITalk };

// Función para determinar el color del estado
const getStatusColor = (status: string) => {
  switch (status.toLowerCase()) {
    case 'accepted':
      return 'text-green-400';
    case 'pending':
      return 'text-yellow-400';
    case 'rejected':
      return 'text-red-400';
    default:
      return 'text-gray-400';
  }
};
---

<div class="relative overflow-hidden rounded-2xl border border-yellow-500/20 bg-gray-950 p-8 w-full max-w-sm mx-auto shadow-2xl transition-transform duration-300 hover:scale-105 group">
  <!-- Efecto de campo de estrellas de fondo -->
  <div class="absolute inset-0 z-0 opacity-5">
    <div class="h-1 w-1 rounded-full bg-white shadow-white animate-[star-shine_15s_infinite_linear] absolute top-[10%] left-[20%]"></div>
    <div class="h-1 w-1 rounded-full bg-white shadow-white animate-[star-shine_20s_infinite_linear] absolute top-[40%] left-[80%]"></div>
    <div class="h-1 w-1 rounded-full bg-white shadow-white animate-[star-shine_18s_infinite_linear] absolute top-[70%] left-[50%]"></div>
    <div class="h-1 w-1 rounded-full bg-white shadow-white animate-[star-shine_25s_infinite_linear] absolute top-[5%] left-[90%]"></div>
    <div class="h-1 w-1 rounded-full bg-white shadow-white animate-[star-shine_12s_infinite_linear] absolute top-[95%] left-[10%]"></div>
  </div>

  <!-- Borde de efecto Aurora pulsante -->
  <div class="absolute inset-0 z-10 rounded-2xl border border-yellow-500/50 [background-image:radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-yellow-500/5 via-transparent to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"></div>

  <!-- Contenido de la tarjeta -->
  <div class="relative z-20 flex flex-col gap-5 text-white">
    <div class="flex items-center justify-between">
      <span class="text-xs font-bold uppercase tracking-widest" class:list={[getStatusColor(talk.status)]}>
        {talk.status.toUpperCase()}
      </span>
      <span class="text-sm font-medium text-yellow-400">{talk.duration}</span>
    </div>

    <div class="space-y-3">
      <h3 class="text-2xl font-bold tracking-tight text-white">{talk.title}</h3>
      <p class="text-sm text-gray-400">{talk.description}</p>
    </div>

    <div class="flex items-center gap-2">
      <span class="rounded-full bg-yellow-800/50 px-4 py-1.5 text-xs font-semibold text-yellow-300">
        <i class="fa-solid fa-tag mr-1"></i> {talk.topic}
      </span>
    </div>

  </div>
</div>

<style>
  body {
    font-family: 'Inter', sans-serif;
    background-color: #030712;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 1.5rem;
  }
  @keyframes star-shine {
    0%, 100% { transform: scale(0.5); opacity: 0.8; }
    50% { transform: scale(1.5); opacity: 1; }
  }
</style>